<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DIGGGIN - 3D Record Store</title>
    <meta name="description" content="Virtual record store experience - browse and discover music in 3D">
    
    <!-- Styles -->
    <link rel="stylesheet" href="styles/main.css">
    
    <!-- Note: Three.js CDN may be blocked in some environments -->
    <!-- For development, we'll create a fallback implementation -->
    <script>
        // Simple fallback for blocked CDN
        if (typeof THREE === 'undefined') {
            console.warn('Three.js CDN blocked, creating minimal fallback for demo');
            window.THREE = {
                _isFallback: true, // Mark as fallback
                Scene: function() { this.children = []; this.add = function() {}; },
                PerspectiveCamera: function() {},
                WebGLRenderer: function() { 
                    this.domElement = document.createElement('canvas');
                    this.setSize = function() {};
                    this.setPixelRatio = function() {};
                    this.render = function() {};
                    this.dispose = function() {};
                    this.shadowMap = { enabled: false };
                },
                OrbitControls: function() { 
                    this.enableDamping = false;
                    this.update = function() {};
                    this.dispose = function() {};
                },
                Vector2: function() {},
                Vector3: function(x, y, z) { this.x = x || 0; this.y = y || 0; this.z = z || 0; },
                Color: function() {},
                Fog: function() {},
                AmbientLight: function() {},
                DirectionalLight: function() {},
                PointLight: function() {},
                PlaneGeometry: function() {},
                BoxGeometry: function() {},
                CylinderGeometry: function() {},
                MeshLambertMaterial: function() {},
                Mesh: function() {},
                Group: function() { 
                    this.children = [];
                    this.userData = {};
                    this.position = new THREE.Vector3();
                    this.scale = { set: function() {} };
                    this.add = function() {};
                },
                GridHelper: function() {},
                Raycaster: function() { this.setFromCamera = function() {}; this.intersectObjects = function() { return []; }; },
                TextureLoader: function() { this.load = function() {}; },
                PCFSoftShadowMap: 1,
                SRGBColorSpace: 'srgb'
            };
        }
    </script>
    
    <!-- Three.js from CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r168/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r168/controls/OrbitControls.js"></script>
</head>
<body>
    <!-- Header Navigation -->
    <header class="header">
        <div class="nav-container">
            <h1 class="logo">
                <a href="../index.html">DIGGGIN</a>
            </h1>
            <nav class="main-nav">
                <a href="../index.html" class="nav-link">Jekyll Site</a>
                <a href="#" class="nav-link active">3D Experience</a>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- 3D Canvas Container -->
        <div id="canvas-container" class="canvas-container">
            <canvas id="threejs-canvas"></canvas>
        </div>

        <!-- UI Controls -->
        <div class="ui-controls">
            <div class="control-panel">
                <h3>Browse Records</h3>
                
                <!-- Search -->
                <div class="control-group">
                    <label for="search">Search:</label>
                    <input type="text" id="search" placeholder="Artist, song, genre...">
                </div>

                <!-- Filters -->
                <div class="control-group">
                    <label for="genre-filter">Genre:</label>
                    <select id="genre-filter">
                        <option value="">All Genres</option>
                        <option value="Psychedelic">Psychedelic</option>
                        <option value="Indie">Indie</option>
                        <option value="Alternative Rock">Alternative Rock</option>
                        <option value="Hip Hop">Hip Hop</option>
                    </select>
                </div>

                <div class="control-group">
                    <label for="mood-filter">Mood:</label>
                    <select id="mood-filter">
                        <option value="">All Moods</option>
                        <option value="Euphoric">Euphoric</option>
                        <option value="Calming">Calming</option>
                        <option value="Wanderlust">Wanderlust</option>
                        <option value="Rebellious">Rebellious</option>
                        <option value="Mysterious">Mysterious</option>
                    </select>
                </div>

                <!-- Stats -->
                <div class="stats">
                    <div class="stat">
                        <span class="stat-value" id="total-records">0</span>
                        <span class="stat-label">Total Records</span>
                    </div>
                    <div class="stat">
                        <span class="stat-value" id="filtered-records">0</span>
                        <span class="stat-label">Showing</span>
                    </div>
                </div>
            </div>

            <!-- Record Details -->
            <div class="record-details" id="record-details">
                <h3>Select a Record</h3>
                <p>Click on a record to view details</p>
            </div>
        </div>

        <!-- Loading Indicator -->
        <div id="loading" class="loading">
            <div class="loading-spinner"></div>
            <p>Loading records...</p>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2024 DIGGGIN - Virtual Record Store Experience</p>
        <p>Built with <a href="https://threejs.org/" target="_blank">Three.js</a></p>
    </footer>

    <!-- Scripts -->
    <script src="js/data.js"></script>
    <script src="js/scene.js"></script>
    <script src="js/records.js"></script>
    <script src="js/controls.js"></script>
    <script src="js/app-simple.js"></script>
</body>
</html>